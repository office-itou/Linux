set default="0"
set timeout="-1"

if [ "x${feature_default_font_path}" = "xy" ] ; then
  font="unicode"
else
  font="${prefix}/fonts/font.pf2"
fi

if loadfont "$font" ; then
# set lang="ja_JP"
  set gfxmode=1024x768x16,auto
  set gfxpayload="keep"
  if [ "${grub_platform}" = "efi" ]; then
    insmod efi_gop
    insmod efi_uga
  else
    insmod vbe
    insmod vga
  fi
  insmod gfxterm
  insmod gettext
  terminal_output gfxterm
fi

set menu_color_normal="cyan/blue"
set menu_color_highlight="white/blue"

#export lang
export gfxmode
export gfxpayload
export menu_color_normal
export menu_color_highlight

insmod play
play 960 440 1 0 4 440 1

submenu '[ Auto install mini.iso ... ]' {
  menuentry '- Debian 11  ..........................................2024-08-27 06:14:31' {
    echo 'Loading Debian 11 ...'
    set srvraddr="http://192.168.1.12"  
    set hostname="sv-debian.workgroup"
    set ethrname="ens160"
    set ipv4addr="192.168.1.1/24"
    set ipv4mask="255.255.255.0"
    set ipv4gway="192.168.1.254"
    set ipv4nsvr="192.168.1.254"
    set autoinst="auto=true preseed/url=${srvraddr}/conf/preseed/ps_debian_server_old.cfg"  
    set networks="netcfg/disable_autoconfig=true netcfg/choose_interface=${ethrname} netcfg/get_hostname=${hostname} netcfg/get_ipaddress=${ipv4addr} netcfg/get_netmask=${ipv4mask} netcfg/get_gateway=${ipv4gway} netcfg/get_nameservers=${ipv4nsvr}"
    set language="language=ja country=JP timezone=Asia/Tokyo keyboard-configuration/xkb-keymap=jp keyboard-configuration/variant=Japanese"
    set ramsdisk="root=/dev/ram0 load_ramdisk=1 ramdisk_size=1024000 overlay-size=80%"
    set isosfile="fetch=${srvraddr}/isos/mini-bullseye-amd64.iso"
    set knladdr="(tftp,192.168.1.12)/imgs/debian-mini-11"
    set options="${autoinst} ${networks} ${language} ${ramsdisk} ${isosfile} fsck.mode=skip raid=noautodetect vga=791"
    if [ "${grub_platform}" = "efi" ]; then rmmod tpm; fi
    insmod net
    insmod http
    insmod progress
    echo 'Loading linux ...'
    linux  ${knladdr}/linux ${options} ---
    echo 'Loading initrd ...'
    initrd ${knladdr}/initrd.gz
  }
  menuentry '- Debian 12  ..........................................2025-03-10 12:28:07' {
    echo 'Loading Debian 12 ...'
    set srvraddr="http://192.168.1.12"  
    set hostname="sv-debian.workgroup"
    set ethrname="ens160"
    set ipv4addr="192.168.1.1/24"
    set ipv4mask="255.255.255.0"
    set ipv4gway="192.168.1.254"
    set ipv4nsvr="192.168.1.254"
    set autoinst="auto=true preseed/url=${srvraddr}/conf/preseed/ps_debian_server.cfg"  
    set networks="netcfg/disable_autoconfig=true netcfg/choose_interface=${ethrname} netcfg/get_hostname=${hostname} netcfg/get_ipaddress=${ipv4addr} netcfg/get_netmask=${ipv4mask} netcfg/get_gateway=${ipv4gway} netcfg/get_nameservers=${ipv4nsvr}"
    set language="language=ja country=JP timezone=Asia/Tokyo keyboard-configuration/xkb-keymap=jp keyboard-configuration/variant=Japanese"
    set ramsdisk="root=/dev/ram0 load_ramdisk=1 ramdisk_size=1024000 overlay-size=80%"
    set isosfile="fetch=${srvraddr}/isos/mini-bookworm-amd64.iso"
    set knladdr="(tftp,192.168.1.12)/imgs/debian-mini-12"
    set options="${autoinst} ${networks} ${language} ${ramsdisk} ${isosfile} fsck.mode=skip raid=noautodetect vga=791"
    if [ "${grub_platform}" = "efi" ]; then rmmod tpm; fi
    insmod net
    insmod http
    insmod progress
    echo 'Loading linux ...'
    linux  ${knladdr}/linux ${options} ---
    echo 'Loading initrd ...'
    initrd ${knladdr}/initrd.gz
  }
  menuentry '- Debian 13  ..........................................2024-12-27 09:14:03' {
    echo 'Loading Debian 13 ...'
    set srvraddr="http://192.168.1.12"  
    set hostname="sv-debian.workgroup"
    set ethrname="ens160"
    set ipv4addr="192.168.1.1/24"
    set ipv4mask="255.255.255.0"
    set ipv4gway="192.168.1.254"
    set ipv4nsvr="192.168.1.254"
    set autoinst="auto=true preseed/url=${srvraddr}/conf/preseed/ps_debian_server.cfg"  
    set networks="netcfg/disable_autoconfig=true netcfg/choose_interface=${ethrname} netcfg/get_hostname=${hostname} netcfg/get_ipaddress=${ipv4addr} netcfg/get_netmask=${ipv4mask} netcfg/get_gateway=${ipv4gway} netcfg/get_nameservers=${ipv4nsvr}"
    set language="language=ja country=JP timezone=Asia/Tokyo keyboard-configuration/xkb-keymap=jp keyboard-configuration/variant=Japanese"
    set ramsdisk="root=/dev/ram0 load_ramdisk=1 ramdisk_size=1024000 overlay-size=80%"
    set isosfile="fetch=${srvraddr}/isos/mini-trixie-amd64.iso"
    set knladdr="(tftp,192.168.1.12)/imgs/debian-mini-13"
    set options="${autoinst} ${networks} ${language} ${ramsdisk} ${isosfile} fsck.mode=skip raid=noautodetect vga=791"
    if [ "${grub_platform}" = "efi" ]; then rmmod tpm; fi
    insmod net
    insmod http
    insmod progress
    echo 'Loading linux ...'
    linux  ${knladdr}/linux ${options} ---
    echo 'Loading initrd ...'
    initrd ${knladdr}/initrd.gz
  }
  menuentry '- Debian testing  .....................................2024-12-27 09:14:03' {
    echo 'Loading Debian testing ...'
    set srvraddr="http://192.168.1.12"  
    set hostname="sv-debian.workgroup"
    set ethrname="ens160"
    set ipv4addr="192.168.1.1/24"
    set ipv4mask="255.255.255.0"
    set ipv4gway="192.168.1.254"
    set ipv4nsvr="192.168.1.254"
    set autoinst="auto=true preseed/url=${srvraddr}/conf/preseed/ps_debian_server.cfg"  
    set networks="netcfg/disable_autoconfig=true netcfg/choose_interface=${ethrname} netcfg/get_hostname=${hostname} netcfg/get_ipaddress=${ipv4addr} netcfg/get_netmask=${ipv4mask} netcfg/get_gateway=${ipv4gway} netcfg/get_nameservers=${ipv4nsvr}"
    set language="language=ja country=JP timezone=Asia/Tokyo keyboard-configuration/xkb-keymap=jp keyboard-configuration/variant=Japanese"
    set ramsdisk="root=/dev/ram0 load_ramdisk=1 ramdisk_size=1024000 overlay-size=80%"
    set isosfile="fetch=${srvraddr}/isos/mini-testing-amd64.iso"
    set knladdr="(tftp,192.168.1.12)/imgs/debian-mini-testing"
    set options="${autoinst} ${networks} ${language} ${ramsdisk} ${isosfile} fsck.mode=skip raid=noautodetect vga=791"
    if [ "${grub_platform}" = "efi" ]; then rmmod tpm; fi
    insmod net
    insmod http
    insmod progress
    echo 'Loading linux ...'
    linux  ${knladdr}/linux ${options} ---
    echo 'Loading initrd ...'
    initrd ${knladdr}/initrd.gz
  }
  menuentry '- Debian testing daily  ...............................2025-05-07 00:02:25' {
    echo 'Loading Debian testing daily ...'
    set srvraddr="http://192.168.1.12"  
    set hostname="sv-debian.workgroup"
    set ethrname="ens160"
    set ipv4addr="192.168.1.1/24"
    set ipv4mask="255.255.255.0"
    set ipv4gway="192.168.1.254"
    set ipv4nsvr="192.168.1.254"
    set autoinst="auto=true preseed/url=${srvraddr}/conf/preseed/ps_debian_server.cfg"  
    set networks="netcfg/disable_autoconfig=true netcfg/choose_interface=${ethrname} netcfg/get_hostname=${hostname} netcfg/get_ipaddress=${ipv4addr} netcfg/get_netmask=${ipv4mask} netcfg/get_gateway=${ipv4gway} netcfg/get_nameservers=${ipv4nsvr}"
    set language="language=ja country=JP timezone=Asia/Tokyo keyboard-configuration/xkb-keymap=jp keyboard-configuration/variant=Japanese"
    set ramsdisk="root=/dev/ram0 load_ramdisk=1 ramdisk_size=1024000 overlay-size=80%"
    set isosfile="fetch=${srvraddr}/isos/mini-testing-daily-amd64.iso"
    set knladdr="(tftp,192.168.1.12)/imgs/debian-mini-testing-daily"
    set options="${autoinst} ${networks} ${language} ${ramsdisk} ${isosfile} fsck.mode=skip raid=noautodetect vga=791"
    if [ "${grub_platform}" = "efi" ]; then rmmod tpm; fi
    insmod net
    insmod http
    insmod progress
    echo 'Loading linux ...'
    linux  ${knladdr}/linux ${options} ---
    echo 'Loading initrd ...'
    initrd ${knladdr}/initrd.gz
  }
}

submenu '[ Auto install Net install ... ]' {
  menuentry '- Debian 11  ..........................................2024-08-31 16:11:10' {
    echo 'Loading Debian 11 ...'
    set srvraddr="http://192.168.1.12"  
    set hostname="sv-debian.workgroup"
    set ethrname="ens160"
    set ipv4addr="192.168.1.1/24"
    set ipv4mask="255.255.255.0"
    set ipv4gway="192.168.1.254"
    set ipv4nsvr="192.168.1.254"
    set autoinst="auto=true preseed/url=${srvraddr}/conf/preseed/ps_debian_server_old.cfg"  
    set networks="netcfg/disable_autoconfig=true netcfg/choose_interface=${ethrname} netcfg/get_hostname=${hostname} netcfg/get_ipaddress=${ipv4addr} netcfg/get_netmask=${ipv4mask} netcfg/get_gateway=${ipv4gway} netcfg/get_nameservers=${ipv4nsvr}"
    set language="language=ja country=JP timezone=Asia/Tokyo keyboard-configuration/xkb-keymap=jp keyboard-configuration/variant=Japanese"
    set ramsdisk="root=/dev/ram0 load_ramdisk=1 ramdisk_size=1024000 overlay-size=80%"
    set isosfile="fetch=${srvraddr}/isos/debian-11.11.0-amd64-netinst.iso"
    set knladdr="(tftp,192.168.1.12)/imgs/debian-netinst-11"
    set options="${autoinst} ${networks} ${language} ${ramsdisk} ${isosfile} fsck.mode=skip raid=noautodetect vga=791"
    if [ "${grub_platform}" = "efi" ]; then rmmod tpm; fi
    insmod net
    insmod http
    insmod progress
    echo 'Loading linux ...'
    linux  ${knladdr}/install.amd/vmlinuz ${options} ---
    echo 'Loading initrd ...'
    initrd ${knladdr}/install.amd/initrd.gz
  }
  menuentry '- Debian 12  ..........................................2025-03-15 12:03:05' {
    echo 'Loading Debian 12 ...'
    set srvraddr="http://192.168.1.12"  
    set hostname="sv-debian.workgroup"
    set ethrname="ens160"
    set ipv4addr="192.168.1.1/24"
    set ipv4mask="255.255.255.0"
    set ipv4gway="192.168.1.254"
    set ipv4nsvr="192.168.1.254"
    set autoinst="auto=true preseed/url=${srvraddr}/conf/preseed/ps_debian_server.cfg"  
    set networks="netcfg/disable_autoconfig=true netcfg/choose_interface=${ethrname} netcfg/get_hostname=${hostname} netcfg/get_ipaddress=${ipv4addr} netcfg/get_netmask=${ipv4mask} netcfg/get_gateway=${ipv4gway} netcfg/get_nameservers=${ipv4nsvr}"
    set language="language=ja country=JP timezone=Asia/Tokyo keyboard-configuration/xkb-keymap=jp keyboard-configuration/variant=Japanese"
    set ramsdisk="root=/dev/ram0 load_ramdisk=1 ramdisk_size=1024000 overlay-size=80%"
    set isosfile="fetch=${srvraddr}/isos/debian-12.10.0-amd64-netinst.iso"
    set knladdr="(tftp,192.168.1.12)/imgs/debian-netinst-12"
    set options="${autoinst} ${networks} ${language} ${ramsdisk} ${isosfile} fsck.mode=skip raid=noautodetect vga=791"
    if [ "${grub_platform}" = "efi" ]; then rmmod tpm; fi
    insmod net
    insmod http
    insmod progress
    echo 'Loading linux ...'
    linux  ${knladdr}/install.amd/vmlinuz ${options} ---
    echo 'Loading initrd ...'
    initrd ${knladdr}/install.amd/initrd.gz
  }
  menuentry '- Debian testing  .....................................2025-05-07 09:20:06' {
    echo 'Loading Debian testing ...'
    set srvraddr="http://192.168.1.12"  
    set hostname="sv-debian.workgroup"
    set ethrname="ens160"
    set ipv4addr="192.168.1.1/24"
    set ipv4mask="255.255.255.0"
    set ipv4gway="192.168.1.254"
    set ipv4nsvr="192.168.1.254"
    set autoinst="auto=true preseed/url=${srvraddr}/conf/preseed/ps_debian_server.cfg"  
    set networks="netcfg/disable_autoconfig=true netcfg/choose_interface=${ethrname} netcfg/get_hostname=${hostname} netcfg/get_ipaddress=${ipv4addr} netcfg/get_netmask=${ipv4mask} netcfg/get_gateway=${ipv4gway} netcfg/get_nameservers=${ipv4nsvr}"
    set language="language=ja country=JP timezone=Asia/Tokyo keyboard-configuration/xkb-keymap=jp keyboard-configuration/variant=Japanese"
    set ramsdisk="root=/dev/ram0 load_ramdisk=1 ramdisk_size=1024000 overlay-size=80%"
    set isosfile="fetch=${srvraddr}/isos/debian-testing-amd64-netinst.iso"
    set knladdr="(tftp,192.168.1.12)/imgs/debian-netinst-testing"
    set options="${autoinst} ${networks} ${language} ${ramsdisk} ${isosfile} fsck.mode=skip raid=noautodetect vga=791"
    if [ "${grub_platform}" = "efi" ]; then rmmod tpm; fi
    insmod net
    insmod http
    insmod progress
    echo 'Loading linux ...'
    linux  ${knladdr}/install.amd/vmlinuz ${options} ---
    echo 'Loading initrd ...'
    initrd ${knladdr}/install.amd/initrd.gz
  }
  menuentry '- Fedora Server 41  ...................................2024-10-24 13:36:10' {
    echo 'Loading Fedora Server 41 ...'
    set srvraddr="http://192.168.1.12"  
    set hostname="sv-fedora.workgroup"
    set ethrname="ens160"
    set ipv4addr="192.168.1.1/24"
    set ipv4mask="255.255.255.0"
    set ipv4gway="192.168.1.254"
    set ipv4nsvr="192.168.1.254"
    set autoinst="inst.ks=${srvraddr}/conf/kickstart/ks_fedora-41_net.cfg"  
    set networks="ip=${ipv4addr}::${ipv4gway}:${ipv4mask}:${hostname}:${ethrname}:none,auto6 nameserver=${ipv4nsvr}"
    set language="locale=ja_JP.UTF-8 timezone=Asia/Tokyo keyboard-configuration/layoutcode=jp keyboard-configuration/modelcode=jp106"
    set ramsdisk="load_ramdisk=1 ramdisk_size=1024000 overlay-size=80%"
    set isosfile="inst.repo=${srvraddr}/imgs/fedora-netinst-41"
    set knladdr="(tftp,192.168.1.12)/imgs/fedora-netinst-41"
    set options="${autoinst} ${networks} ${language} ${ramsdisk} ${isosfile} fsck.mode=skip raid=noautodetect vga=791"
    if [ "${grub_platform}" = "efi" ]; then rmmod tpm; fi
    insmod net
    insmod http
    insmod progress
    echo 'Loading linux ...'
    linux  ${knladdr}/images/pxeboot/vmlinuz ${options} ---
    echo 'Loading initrd ...'
    initrd ${knladdr}/images/pxeboot/initrd.img
  }
  menuentry '- Fedora Server 42  ...................................2025-04-09 11:48:26' {
    echo 'Loading Fedora Server 42 ...'
    set srvraddr="http://192.168.1.12"  
    set hostname="sv-fedora.workgroup"
    set ethrname="ens160"
    set ipv4addr="192.168.1.1/24"
    set ipv4mask="255.255.255.0"
    set ipv4gway="192.168.1.254"
    set ipv4nsvr="192.168.1.254"
    set autoinst="inst.ks=${srvraddr}/conf/kickstart/ks_fedora-42_net.cfg"  
    set networks="ip=${ipv4addr}::${ipv4gway}:${ipv4mask}:${hostname}:${ethrname}:none,auto6 nameserver=${ipv4nsvr}"
    set language="locale=ja_JP.UTF-8 timezone=Asia/Tokyo keyboard-configuration/layoutcode=jp keyboard-configuration/modelcode=jp106"
    set ramsdisk="load_ramdisk=1 ramdisk_size=1024000 overlay-size=80%"
    set isosfile="inst.repo=${srvraddr}/imgs/fedora-netinst-42"
    set knladdr="(tftp,192.168.1.12)/imgs/fedora-netinst-42"
    set options="${autoinst} ${networks} ${language} ${ramsdisk} ${isosfile} fsck.mode=skip raid=noautodetect vga=791"
    if [ "${grub_platform}" = "efi" ]; then rmmod tpm; fi
    insmod net
    insmod http
    insmod progress
    echo 'Loading linux ...'
    linux  ${knladdr}/images/pxeboot/vmlinuz ${options} ---
    echo 'Loading initrd ...'
    initrd ${knladdr}/images/pxeboot/initrd.img
  }
  menuentry '- CentOS Stream 9  ....................................2025-05-06 17:05:53' {
    echo 'Loading CentOS Stream 9 ...'
    set srvraddr="http://192.168.1.12"  
    set hostname="sv-centos.workgroup"
    set ethrname="ens160"
    set ipv4addr="192.168.1.1/24"
    set ipv4mask="255.255.255.0"
    set ipv4gway="192.168.1.254"
    set ipv4nsvr="192.168.1.254"
    set autoinst="inst.ks=${srvraddr}/conf/kickstart/ks_centos-stream-9_net.cfg"  
    set networks="ip=${ipv4addr}::${ipv4gway}:${ipv4mask}:${hostname}:${ethrname}:none,auto6 nameserver=${ipv4nsvr}"
    set language="locale=ja_JP.UTF-8 timezone=Asia/Tokyo keyboard-configuration/layoutcode=jp keyboard-configuration/modelcode=jp106"
    set ramsdisk="load_ramdisk=1 ramdisk_size=1024000 overlay-size=80%"
    set isosfile="inst.repo=${srvraddr}/imgs/centos-stream-netinst-9"
    set knladdr="(tftp,192.168.1.12)/imgs/centos-stream-netinst-9"
    set options="${autoinst} ${networks} ${language} ${ramsdisk} ${isosfile} fsck.mode=skip raid=noautodetect vga=791"
    if [ "${grub_platform}" = "efi" ]; then rmmod tpm; fi
    insmod net
    insmod http
    insmod progress
    echo 'Loading linux ...'
    linux  ${knladdr}/images/pxeboot/vmlinuz ${options} ---
    echo 'Loading initrd ...'
    initrd ${knladdr}/images/pxeboot/initrd.img
  }
  menuentry '- CentOS Stream 10  ...................................2025-05-06 08:45:01' {
    echo 'Loading CentOS Stream 10 ...'
    set srvraddr="http://192.168.1.12"  
    set hostname="sv-centos.workgroup"
    set ethrname="ens160"
    set ipv4addr="192.168.1.1/24"
    set ipv4mask="255.255.255.0"
    set ipv4gway="192.168.1.254"
    set ipv4nsvr="192.168.1.254"
    set autoinst="inst.ks=${srvraddr}/conf/kickstart/ks_centos-stream-10_net.cfg"  
    set networks="ip=${ipv4addr}::${ipv4gway}:${ipv4mask}:${hostname}:${ethrname}:none,auto6 nameserver=${ipv4nsvr}"
    set language="locale=ja_JP.UTF-8 timezone=Asia/Tokyo keyboard-configuration/layoutcode=jp keyboard-configuration/modelcode=jp106"
    set ramsdisk="load_ramdisk=1 ramdisk_size=1024000 overlay-size=80%"
    set isosfile="inst.repo=${srvraddr}/imgs/centos-stream-netinst-10"
    set knladdr="(tftp,192.168.1.12)/imgs/centos-stream-netinst-10"
    set options="${autoinst} ${networks} ${language} ${ramsdisk} ${isosfile} fsck.mode=skip raid=noautodetect vga=791"
    if [ "${grub_platform}" = "efi" ]; then rmmod tpm; fi
    insmod net
    insmod http
    insmod progress
    echo 'Loading linux ...'
    linux  ${knladdr}/images/pxeboot/vmlinuz ${options} ---
    echo 'Loading initrd ...'
    initrd ${knladdr}/images/pxeboot/initrd.img
  }
  menuentry '- Alma Linux 9  .......................................2024-11-13 09:40:34' {
    echo 'Loading Alma Linux 9 ...'
    set srvraddr="http://192.168.1.12"  
    set hostname="sv-almalinux.workgroup"
    set ethrname="ens160"
    set ipv4addr="192.168.1.1/24"
    set ipv4mask="255.255.255.0"
    set ipv4gway="192.168.1.254"
    set ipv4nsvr="192.168.1.254"
    set autoinst="inst.ks=${srvraddr}/conf/kickstart/ks_almalinux-9_net.cfg"  
    set networks="ip=${ipv4addr}::${ipv4gway}:${ipv4mask}:${hostname}:${ethrname}:none,auto6 nameserver=${ipv4nsvr}"
    set language="locale=ja_JP.UTF-8 timezone=Asia/Tokyo keyboard-configuration/layoutcode=jp keyboard-configuration/modelcode=jp106"
    set ramsdisk="load_ramdisk=1 ramdisk_size=1024000 overlay-size=80%"
    set isosfile="inst.repo=${srvraddr}/imgs/almalinux-netinst-9"
    set knladdr="(tftp,192.168.1.12)/imgs/almalinux-netinst-9"
    set options="${autoinst} ${networks} ${language} ${ramsdisk} ${isosfile} fsck.mode=skip raid=noautodetect vga=791"
    if [ "${grub_platform}" = "efi" ]; then rmmod tpm; fi
    insmod net
    insmod http
    insmod progress
    echo 'Loading linux ...'
    linux  ${knladdr}/images/pxeboot/vmlinuz ${options} ---
    echo 'Loading initrd ...'
    initrd ${knladdr}/images/pxeboot/initrd.img
  }
  menuentry '- Rocky Linux 9  ......................................2024-11-16 01:52:35' {
    echo 'Loading Rocky Linux 9 ...'
    set srvraddr="http://192.168.1.12"  
    set hostname="sv-rockylinux.workgroup"
    set ethrname="ens160"
    set ipv4addr="192.168.1.1/24"
    set ipv4mask="255.255.255.0"
    set ipv4gway="192.168.1.254"
    set ipv4nsvr="192.168.1.254"
    set autoinst="inst.ks=${srvraddr}/conf/kickstart/ks_rockylinux-9_net.cfg"  
    set networks="ip=${ipv4addr}::${ipv4gway}:${ipv4mask}:${hostname}:${ethrname}:none,auto6 nameserver=${ipv4nsvr}"
    set language="locale=ja_JP.UTF-8 timezone=Asia/Tokyo keyboard-configuration/layoutcode=jp keyboard-configuration/modelcode=jp106"
    set ramsdisk="load_ramdisk=1 ramdisk_size=1024000 overlay-size=80%"
    set isosfile="inst.repo=${srvraddr}/imgs/rockylinux-netinst-9"
    set knladdr="(tftp,192.168.1.12)/imgs/rockylinux-netinst-9"
    set options="${autoinst} ${networks} ${language} ${ramsdisk} ${isosfile} fsck.mode=skip raid=noautodetect vga=791"
    if [ "${grub_platform}" = "efi" ]; then rmmod tpm; fi
    insmod net
    insmod http
    insmod progress
    echo 'Loading linux ...'
    linux  ${knladdr}/images/pxeboot/vmlinuz ${options} ---
    echo 'Loading initrd ...'
    initrd ${knladdr}/images/pxeboot/initrd.img
  }
  menuentry '- Miracle Linux 9  ....................................2024-08-23 05:57:18' {
    echo 'Loading Miracle Linux 9 ...'
    set srvraddr="http://192.168.1.12"  
    set hostname="sv-miraclelinux.workgroup"
    set ethrname="ens160"
    set ipv4addr="192.168.1.1/24"
    set ipv4mask="255.255.255.0"
    set ipv4gway="192.168.1.254"
    set ipv4nsvr="192.168.1.254"
    set autoinst="inst.ks=${srvraddr}/conf/kickstart/ks_miraclelinux-9_net.cfg"  
    set networks="ip=${ipv4addr}::${ipv4gway}:${ipv4mask}:${hostname}:${ethrname}:none,auto6 nameserver=${ipv4nsvr}"
    set language="locale=ja_JP.UTF-8 timezone=Asia/Tokyo keyboard-configuration/layoutcode=jp keyboard-configuration/modelcode=jp106"
    set ramsdisk="load_ramdisk=1 ramdisk_size=1024000 overlay-size=80%"
    set isosfile="inst.repo=${srvraddr}/imgs/miraclelinux-netinst-9"
    set knladdr="(tftp,192.168.1.12)/imgs/miraclelinux-netinst-9"
    set options="${autoinst} ${networks} ${language} ${ramsdisk} ${isosfile} fsck.mode=skip raid=noautodetect vga=791"
    if [ "${grub_platform}" = "efi" ]; then rmmod tpm; fi
    insmod net
    insmod http
    insmod progress
    echo 'Loading linux ...'
    linux  ${knladdr}/images/pxeboot/vmlinuz ${options} ---
    echo 'Loading initrd ...'
    initrd ${knladdr}/images/pxeboot/initrd.img
  }
  menuentry '- openSUSE Leap 15.6  .................................2024-06-20 11:42:39' {
    echo 'Loading openSUSE Leap 15.6 ...'
    set srvraddr="http://192.168.1.12"  
    set hostname="sv-opensuse.workgroup"
    set ethrname="ens160"
    set ipv4addr="192.168.1.1/24"
    set ipv4mask="255.255.255.0"
    set ipv4gway="192.168.1.254"
    set ipv4nsvr="192.168.1.254"
    set autoinst="autoyast=${srvraddr}/conf/autoyast/autoinst_leap-15.6_net.xml"  
    set networks="hostname=${hostname} ifcfg==${ipv4addr},${ipv4gway},${ipv4nsvr},workgroup"
    set language="locale=ja_JP.UTF-8 timezone=Asia/Tokyo keyboard-configuration/layoutcode=jp keyboard-configuration/modelcode=jp106"
    set ramsdisk="load_ramdisk=1 ramdisk_size=1024000 overlay-size=80%"
    set isosfile="install=https://download.opensuse.org/distribution/leap/15.6/repo/oss/"
    set knladdr="(tftp,192.168.1.12)/imgs/opensuse-leap-netinst-15.6"
    set options="${autoinst} ${networks} ${language} ${ramsdisk} ${isosfile} fsck.mode=skip raid=noautodetect vga=791"
    if [ "${grub_platform}" = "efi" ]; then rmmod tpm; fi
    insmod net
    insmod http
    insmod progress
    echo 'Loading linux ...'
    linux  ${knladdr}/boot/x86_64/loader/linux ${options} ---
    echo 'Loading initrd ...'
    initrd ${knladdr}/boot/x86_64/loader/initrd
  }
  menuentry '- openSUSE Tumbleweed  ................................2025-05-04 13:27:58' {
    echo 'Loading openSUSE Tumbleweed ...'
    set srvraddr="http://192.168.1.12"  
    set hostname="sv-opensuse.workgroup"
    set ethrname="ens160"
    set ipv4addr="192.168.1.1/24"
    set ipv4mask="255.255.255.0"
    set ipv4gway="192.168.1.254"
    set ipv4nsvr="192.168.1.254"
    set autoinst="autoyast=${srvraddr}/conf/autoyast/autoinst_tumbleweed_net.xml"  
    set networks="hostname=${hostname} ifcfg==${ipv4addr},${ipv4gway},${ipv4nsvr},workgroup"
    set language="locale=ja_JP.UTF-8 timezone=Asia/Tokyo keyboard-configuration/layoutcode=jp keyboard-configuration/modelcode=jp106"
    set ramsdisk="load_ramdisk=1 ramdisk_size=1024000 overlay-size=80%"
    set isosfile="install=https://download.opensuse.org/tumbleweed/repo/oss/"
    set knladdr="(tftp,192.168.1.12)/imgs/opensuse-tumbleweed-netinst"
    set options="${autoinst} ${networks} ${language} ${ramsdisk} ${isosfile} fsck.mode=skip raid=noautodetect vga=791"
    if [ "${grub_platform}" = "efi" ]; then rmmod tpm; fi
    insmod net
    insmod http
    insmod progress
    echo 'Loading linux ...'
    linux  ${knladdr}/boot/x86_64/loader/linux ${options} ---
    echo 'Loading initrd ...'
    initrd ${knladdr}/boot/x86_64/loader/initrd
  }
}

submenu '[ Auto install DVD media ... ]' {
  menuentry '- Debian 11  ..........................................2024-08-31 16:11:53' {
    echo 'Loading Debian 11 ...'
    set srvraddr="http://192.168.1.12"  
    set hostname="sv-debian.workgroup"
    set ethrname="ens160"
    set ipv4addr="192.168.1.1/24"
    set ipv4mask="255.255.255.0"
    set ipv4gway="192.168.1.254"
    set ipv4nsvr="192.168.1.254"
    set autoinst="auto=true preseed/url=${srvraddr}/conf/preseed/ps_debian_server_old.cfg"  
    set networks="netcfg/disable_autoconfig=true netcfg/choose_interface=${ethrname} netcfg/get_hostname=${hostname} netcfg/get_ipaddress=${ipv4addr} netcfg/get_netmask=${ipv4mask} netcfg/get_gateway=${ipv4gway} netcfg/get_nameservers=${ipv4nsvr}"
    set language="language=ja country=JP timezone=Asia/Tokyo keyboard-configuration/xkb-keymap=jp keyboard-configuration/variant=Japanese"
    set ramsdisk="root=/dev/ram0 load_ramdisk=1 ramdisk_size=1024000 overlay-size=80%"
    set isosfile="fetch=${srvraddr}/isos/debian-11.11.0-amd64-DVD-1.iso"
    set knladdr="(tftp,192.168.1.12)/imgs/debian-11"
    set options="${autoinst} ${networks} ${language} ${ramsdisk} ${isosfile} fsck.mode=skip raid=noautodetect vga=791"
    if [ "${grub_platform}" = "efi" ]; then rmmod tpm; fi
    insmod net
    insmod http
    insmod progress
    echo 'Loading linux ...'
    linux  ${knladdr}/install.amd/vmlinuz ${options} ---
    echo 'Loading initrd ...'
    initrd ${knladdr}/install.amd/initrd.gz
  }
  menuentry '- Debian 12  ..........................................2025-03-15 12:03:59' {
    echo 'Loading Debian 12 ...'
    set srvraddr="http://192.168.1.12"  
    set hostname="sv-debian.workgroup"
    set ethrname="ens160"
    set ipv4addr="192.168.1.1/24"
    set ipv4mask="255.255.255.0"
    set ipv4gway="192.168.1.254"
    set ipv4nsvr="192.168.1.254"
    set autoinst="auto=true preseed/url=${srvraddr}/conf/preseed/ps_debian_server.cfg"  
    set networks="netcfg/disable_autoconfig=true netcfg/choose_interface=${ethrname} netcfg/get_hostname=${hostname} netcfg/get_ipaddress=${ipv4addr} netcfg/get_netmask=${ipv4mask} netcfg/get_gateway=${ipv4gway} netcfg/get_nameservers=${ipv4nsvr}"
    set language="language=ja country=JP timezone=Asia/Tokyo keyboard-configuration/xkb-keymap=jp keyboard-configuration/variant=Japanese"
    set ramsdisk="root=/dev/ram0 load_ramdisk=1 ramdisk_size=1024000 overlay-size=80%"
    set isosfile="fetch=${srvraddr}/isos/debian-12.10.0-amd64-DVD-1.iso"
    set knladdr="(tftp,192.168.1.12)/imgs/debian-12"
    set options="${autoinst} ${networks} ${language} ${ramsdisk} ${isosfile} fsck.mode=skip raid=noautodetect vga=791"
    if [ "${grub_platform}" = "efi" ]; then rmmod tpm; fi
    insmod net
    insmod http
    insmod progress
    echo 'Loading linux ...'
    linux  ${knladdr}/install.amd/vmlinuz ${options} ---
    echo 'Loading initrd ...'
    initrd ${knladdr}/install.amd/initrd.gz
  }
  menuentry '- Debian testing  .....................................2025-05-05 05:37:49' {
    echo 'Loading Debian testing ...'
    set srvraddr="http://192.168.1.12"  
    set hostname="sv-debian.workgroup"
    set ethrname="ens160"
    set ipv4addr="192.168.1.1/24"
    set ipv4mask="255.255.255.0"
    set ipv4gway="192.168.1.254"
    set ipv4nsvr="192.168.1.254"
    set autoinst="auto=true preseed/url=${srvraddr}/conf/preseed/ps_debian_server.cfg"  
    set networks="netcfg/disable_autoconfig=true netcfg/choose_interface=${ethrname} netcfg/get_hostname=${hostname} netcfg/get_ipaddress=${ipv4addr} netcfg/get_netmask=${ipv4mask} netcfg/get_gateway=${ipv4gway} netcfg/get_nameservers=${ipv4nsvr}"
    set language="language=ja country=JP timezone=Asia/Tokyo keyboard-configuration/xkb-keymap=jp keyboard-configuration/variant=Japanese"
    set ramsdisk="root=/dev/ram0 load_ramdisk=1 ramdisk_size=1024000 overlay-size=80%"
    set isosfile="fetch=${srvraddr}/isos/debian-testing-amd64-DVD-1.iso"
    set knladdr="(tftp,192.168.1.12)/imgs/debian-testing"
    set options="${autoinst} ${networks} ${language} ${ramsdisk} ${isosfile} fsck.mode=skip raid=noautodetect vga=791"
    if [ "${grub_platform}" = "efi" ]; then rmmod tpm; fi
    insmod net
    insmod http
    insmod progress
    echo 'Loading linux ...'
    linux  ${knladdr}/install.amd/vmlinuz ${options} ---
    echo 'Loading initrd ...'
    initrd ${knladdr}/install.amd/initrd.gz
  }
  menuentry '- Ubuntu 24.04 Live Server  ...........................2025-02-16 22:49:40' {
    echo 'Loading Ubuntu 24.04 Live Server ...'
    set srvraddr="http://192.168.1.12"  
    set hostname="sv-ubuntu.workgroup"
    set ethrname="ens160"
    set ipv4addr="192.168.1.1/24"
    set ipv4mask="255.255.255.0"
    set ipv4gway="192.168.1.254"
    set ipv4nsvr="192.168.1.254"
    set autoinst="automatic-ubiquity noprompt autoinstall ds=nocloud;s=${srvraddr}/conf/nocloud/ubuntu_server"  
    set networks="ip=${ipv4addr}::${ipv4gway}:${ipv4mask}::${ethrname}:static:${ipv4nsvr} hostname=${hostname}"
    set language="debian-installer/locale=en_US.UTF-8 keyboard-configuration/layoutcode=jp keyboard-configuration/modelcode=jp106"
    set ramsdisk="root=/dev/ram0 load_ramdisk=1 ramdisk_size=1024000 overlay-size=80%"
    set isosfile="boot=casper iso-url=${srvraddr}/isos/ubuntu-24.04.2-live-server-amd64.iso"
    set knladdr="(tftp,192.168.1.12)/imgs/ubuntu-live-24.04"
    set options="${autoinst} ${networks} ${language} ${ramsdisk} ${isosfile} fsck.mode=skip raid=noautodetect vga=791"
    if [ "${grub_platform}" = "efi" ]; then rmmod tpm; fi
    insmod net
    insmod http
    insmod progress
    echo 'Loading linux ...'
    linux  ${knladdr}/casper/vmlinuz ${options} ---
    echo 'Loading initrd ...'
    initrd ${knladdr}/casper/initrd
  }
  menuentry '- Ubuntu 24.10 Live Server  ...........................2024-10-07 21:19:04' {
    echo 'Loading Ubuntu 24.10 Live Server ...'
    set srvraddr="http://192.168.1.12"  
    set hostname="sv-ubuntu.workgroup"
    set ethrname="ens160"
    set ipv4addr="192.168.1.1/24"
    set ipv4mask="255.255.255.0"
    set ipv4gway="192.168.1.254"
    set ipv4nsvr="192.168.1.254"
    set autoinst="automatic-ubiquity noprompt autoinstall ds=nocloud;s=${srvraddr}/conf/nocloud/ubuntu_server"  
    set networks="ip=${ipv4addr}::${ipv4gway}:${ipv4mask}::${ethrname}:static:${ipv4nsvr} hostname=${hostname}"
    set language="debian-installer/locale=en_US.UTF-8 keyboard-configuration/layoutcode=jp keyboard-configuration/modelcode=jp106"
    set ramsdisk="root=/dev/ram0 load_ramdisk=1 ramdisk_size=1024000 overlay-size=80%"
    set isosfile="boot=casper iso-url=${srvraddr}/isos/ubuntu-24.10-live-server-amd64.iso"
    set knladdr="(tftp,192.168.1.12)/imgs/ubuntu-live-24.10"
    set options="${autoinst} ${networks} ${language} ${ramsdisk} ${isosfile} fsck.mode=skip raid=noautodetect vga=791"
    if [ "${grub_platform}" = "efi" ]; then rmmod tpm; fi
    insmod net
    insmod http
    insmod progress
    echo 'Loading linux ...'
    linux  ${knladdr}/casper/vmlinuz ${options} ---
    echo 'Loading initrd ...'
    initrd ${knladdr}/casper/initrd
  }
  menuentry '- Ubuntu 25.04 Live Server  ...........................2025-04-15 22:38:47' {
    echo 'Loading Ubuntu 25.04 Live Server ...'
    set srvraddr="http://192.168.1.12"  
    set hostname="sv-ubuntu.workgroup"
    set ethrname="ens160"
    set ipv4addr="192.168.1.1/24"
    set ipv4mask="255.255.255.0"
    set ipv4gway="192.168.1.254"
    set ipv4nsvr="192.168.1.254"
    set autoinst="automatic-ubiquity noprompt autoinstall ds=nocloud;s=${srvraddr}/conf/nocloud/ubuntu_server"  
    set networks="ip=${ipv4addr}::${ipv4gway}:${ipv4mask}::${ethrname}:static:${ipv4nsvr} hostname=${hostname}"
    set language="debian-installer/locale=en_US.UTF-8 keyboard-configuration/layoutcode=jp keyboard-configuration/modelcode=jp106"
    set ramsdisk="root=/dev/ram0 load_ramdisk=1 ramdisk_size=1024000 overlay-size=80%"
    set isosfile="boot=casper iso-url=${srvraddr}/isos/ubuntu-25.04-live-server-amd64.iso"
    set knladdr="(tftp,192.168.1.12)/imgs/ubuntu-live-25.04"
    set options="${autoinst} ${networks} ${language} ${ramsdisk} ${isosfile} fsck.mode=skip raid=noautodetect vga=791"
    if [ "${grub_platform}" = "efi" ]; then rmmod tpm; fi
    insmod net
    insmod http
    insmod progress
    echo 'Loading linux ...'
    linux  ${knladdr}/casper/vmlinuz ${options} ---
    echo 'Loading initrd ...'
    initrd ${knladdr}/casper/initrd
  }
  menuentry '- Fedora Server 41  ...................................2024-10-24 14:48:35' {
    echo 'Loading Fedora Server 41 ...'
    set srvraddr="http://192.168.1.12"  
    set hostname="sv-fedora.workgroup"
    set ethrname="ens160"
    set ipv4addr="192.168.1.1/24"
    set ipv4mask="255.255.255.0"
    set ipv4gway="192.168.1.254"
    set ipv4nsvr="192.168.1.254"
    set autoinst="inst.ks=${srvraddr}/conf/kickstart/ks_fedora-41_web.cfg"  
    set networks="ip=${ipv4addr}::${ipv4gway}:${ipv4mask}:${hostname}:${ethrname}:none,auto6 nameserver=${ipv4nsvr}"
    set language="locale=ja_JP.UTF-8 timezone=Asia/Tokyo keyboard-configuration/layoutcode=jp keyboard-configuration/modelcode=jp106"
    set ramsdisk="load_ramdisk=1 ramdisk_size=1024000 overlay-size=80%"
    set isosfile="inst.repo=${srvraddr}/imgs/fedora-41"
    set knladdr="(tftp,192.168.1.12)/imgs/fedora-41"
    set options="${autoinst} ${networks} ${language} ${ramsdisk} ${isosfile} fsck.mode=skip raid=noautodetect vga=791"
    if [ "${grub_platform}" = "efi" ]; then rmmod tpm; fi
    insmod net
    insmod http
    insmod progress
    echo 'Loading linux ...'
    linux  ${knladdr}/images/pxeboot/vmlinuz ${options} ---
    echo 'Loading initrd ...'
    initrd ${knladdr}/images/pxeboot/initrd.img
  }
  menuentry '- Fedora Server 42  ...................................2025-04-09 12:01:30' {
    echo 'Loading Fedora Server 42 ...'
    set srvraddr="http://192.168.1.12"  
    set hostname="sv-fedora.workgroup"
    set ethrname="ens160"
    set ipv4addr="192.168.1.1/24"
    set ipv4mask="255.255.255.0"
    set ipv4gway="192.168.1.254"
    set ipv4nsvr="192.168.1.254"
    set autoinst="inst.ks=${srvraddr}/conf/kickstart/ks_fedora-42_web.cfg"  
    set networks="ip=${ipv4addr}::${ipv4gway}:${ipv4mask}:${hostname}:${ethrname}:none,auto6 nameserver=${ipv4nsvr}"
    set language="locale=ja_JP.UTF-8 timezone=Asia/Tokyo keyboard-configuration/layoutcode=jp keyboard-configuration/modelcode=jp106"
    set ramsdisk="load_ramdisk=1 ramdisk_size=1024000 overlay-size=80%"
    set isosfile="inst.repo=${srvraddr}/imgs/fedora-42"
    set knladdr="(tftp,192.168.1.12)/imgs/fedora-42"
    set options="${autoinst} ${networks} ${language} ${ramsdisk} ${isosfile} fsck.mode=skip raid=noautodetect vga=791"
    if [ "${grub_platform}" = "efi" ]; then rmmod tpm; fi
    insmod net
    insmod http
    insmod progress
    echo 'Loading linux ...'
    linux  ${knladdr}/images/pxeboot/vmlinuz ${options} ---
    echo 'Loading initrd ...'
    initrd ${knladdr}/images/pxeboot/initrd.img
  }
  menuentry '- CentOS Stream 9  ....................................2025-05-06 17:20:28' {
    echo 'Loading CentOS Stream 9 ...'
    set srvraddr="http://192.168.1.12"  
    set hostname="sv-centos.workgroup"
    set ethrname="ens160"
    set ipv4addr="192.168.1.1/24"
    set ipv4mask="255.255.255.0"
    set ipv4gway="192.168.1.254"
    set ipv4nsvr="192.168.1.254"
    set autoinst="inst.ks=${srvraddr}/conf/kickstart/ks_centos-stream-9_web.cfg"  
    set networks="ip=${ipv4addr}::${ipv4gway}:${ipv4mask}:${hostname}:${ethrname}:none,auto6 nameserver=${ipv4nsvr}"
    set language="locale=ja_JP.UTF-8 timezone=Asia/Tokyo keyboard-configuration/layoutcode=jp keyboard-configuration/modelcode=jp106"
    set ramsdisk="load_ramdisk=1 ramdisk_size=1024000 overlay-size=80%"
    set isosfile="inst.repo=${srvraddr}/imgs/centos-stream-9"
    set knladdr="(tftp,192.168.1.12)/imgs/centos-stream-9"
    set options="${autoinst} ${networks} ${language} ${ramsdisk} ${isosfile} fsck.mode=skip raid=noautodetect vga=791"
    if [ "${grub_platform}" = "efi" ]; then rmmod tpm; fi
    insmod net
    insmod http
    insmod progress
    echo 'Loading linux ...'
    linux  ${knladdr}/images/pxeboot/vmlinuz ${options} ---
    echo 'Loading initrd ...'
    initrd ${knladdr}/images/pxeboot/initrd.img
  }
  menuentry '- CentOS Stream 10  ...................................2025-05-06 08:51:53' {
    echo 'Loading CentOS Stream 10 ...'
    set srvraddr="http://192.168.1.12"  
    set hostname="sv-centos.workgroup"
    set ethrname="ens160"
    set ipv4addr="192.168.1.1/24"
    set ipv4mask="255.255.255.0"
    set ipv4gway="192.168.1.254"
    set ipv4nsvr="192.168.1.254"
    set autoinst="inst.ks=${srvraddr}/conf/kickstart/ks_centos-stream-10_web.cfg"  
    set networks="ip=${ipv4addr}::${ipv4gway}:${ipv4mask}:${hostname}:${ethrname}:none,auto6 nameserver=${ipv4nsvr}"
    set language="locale=ja_JP.UTF-8 timezone=Asia/Tokyo keyboard-configuration/layoutcode=jp keyboard-configuration/modelcode=jp106"
    set ramsdisk="load_ramdisk=1 ramdisk_size=1024000 overlay-size=80%"
    set isosfile="inst.repo=${srvraddr}/imgs/centos-stream-10"
    set knladdr="(tftp,192.168.1.12)/imgs/centos-stream-10"
    set options="${autoinst} ${networks} ${language} ${ramsdisk} ${isosfile} fsck.mode=skip raid=noautodetect vga=791"
    if [ "${grub_platform}" = "efi" ]; then rmmod tpm; fi
    insmod net
    insmod http
    insmod progress
    echo 'Loading linux ...'
    linux  ${knladdr}/images/pxeboot/vmlinuz ${options} ---
    echo 'Loading initrd ...'
    initrd ${knladdr}/images/pxeboot/initrd.img
  }
  menuentry '- Alma Linux 9  .......................................2024-11-13 09:59:46' {
    echo 'Loading Alma Linux 9 ...'
    set srvraddr="http://192.168.1.12"  
    set hostname="sv-almalinux.workgroup"
    set ethrname="ens160"
    set ipv4addr="192.168.1.1/24"
    set ipv4mask="255.255.255.0"
    set ipv4gway="192.168.1.254"
    set ipv4nsvr="192.168.1.254"
    set autoinst="inst.ks=${srvraddr}/conf/kickstart/ks_almalinux-9_web.cfg"  
    set networks="ip=${ipv4addr}::${ipv4gway}:${ipv4mask}:${hostname}:${ethrname}:none,auto6 nameserver=${ipv4nsvr}"
    set language="locale=ja_JP.UTF-8 timezone=Asia/Tokyo keyboard-configuration/layoutcode=jp keyboard-configuration/modelcode=jp106"
    set ramsdisk="load_ramdisk=1 ramdisk_size=1024000 overlay-size=80%"
    set isosfile="inst.repo=${srvraddr}/imgs/almalinux-9"
    set knladdr="(tftp,192.168.1.12)/imgs/almalinux-9"
    set options="${autoinst} ${networks} ${language} ${ramsdisk} ${isosfile} fsck.mode=skip raid=noautodetect vga=791"
    if [ "${grub_platform}" = "efi" ]; then rmmod tpm; fi
    insmod net
    insmod http
    insmod progress
    echo 'Loading linux ...'
    linux  ${knladdr}/images/pxeboot/vmlinuz ${options} ---
    echo 'Loading initrd ...'
    initrd ${knladdr}/images/pxeboot/initrd.img
  }
  menuentry '- Rocky Linux 9  ......................................2024-11-16 04:23:15' {
    echo 'Loading Rocky Linux 9 ...'
    set srvraddr="http://192.168.1.12"  
    set hostname="sv-rockylinux.workgroup"
    set ethrname="ens160"
    set ipv4addr="192.168.1.1/24"
    set ipv4mask="255.255.255.0"
    set ipv4gway="192.168.1.254"
    set ipv4nsvr="192.168.1.254"
    set autoinst="inst.ks=${srvraddr}/conf/kickstart/ks_rockylinux-9_web.cfg"  
    set networks="ip=${ipv4addr}::${ipv4gway}:${ipv4mask}:${hostname}:${ethrname}:none,auto6 nameserver=${ipv4nsvr}"
    set language="locale=ja_JP.UTF-8 timezone=Asia/Tokyo keyboard-configuration/layoutcode=jp keyboard-configuration/modelcode=jp106"
    set ramsdisk="load_ramdisk=1 ramdisk_size=1024000 overlay-size=80%"
    set isosfile="inst.repo=${srvraddr}/imgs/rockylinux-9"
    set knladdr="(tftp,192.168.1.12)/imgs/rockylinux-9"
    set options="${autoinst} ${networks} ${language} ${ramsdisk} ${isosfile} fsck.mode=skip raid=noautodetect vga=791"
    if [ "${grub_platform}" = "efi" ]; then rmmod tpm; fi
    insmod net
    insmod http
    insmod progress
    echo 'Loading linux ...'
    linux  ${knladdr}/images/pxeboot/vmlinuz ${options} ---
    echo 'Loading initrd ...'
    initrd ${knladdr}/images/pxeboot/initrd.img
  }
  menuentry '- Miracle Linux 9  ....................................2024-08-23 05:57:18' {
    echo 'Loading Miracle Linux 9 ...'
    set srvraddr="http://192.168.1.12"  
    set hostname="sv-miraclelinux.workgroup"
    set ethrname="ens160"
    set ipv4addr="192.168.1.1/24"
    set ipv4mask="255.255.255.0"
    set ipv4gway="192.168.1.254"
    set ipv4nsvr="192.168.1.254"
    set autoinst="inst.ks=${srvraddr}/conf/kickstart/ks_miraclelinux-9_web.cfg"  
    set networks="ip=${ipv4addr}::${ipv4gway}:${ipv4mask}:${hostname}:${ethrname}:none,auto6 nameserver=${ipv4nsvr}"
    set language="locale=ja_JP.UTF-8 timezone=Asia/Tokyo keyboard-configuration/layoutcode=jp keyboard-configuration/modelcode=jp106"
    set ramsdisk="load_ramdisk=1 ramdisk_size=1024000 overlay-size=80%"
    set isosfile="inst.repo=${srvraddr}/imgs/miraclelinux-9"
    set knladdr="(tftp,192.168.1.12)/imgs/miraclelinux-9"
    set options="${autoinst} ${networks} ${language} ${ramsdisk} ${isosfile} fsck.mode=skip raid=noautodetect vga=791"
    if [ "${grub_platform}" = "efi" ]; then rmmod tpm; fi
    insmod net
    insmod http
    insmod progress
    echo 'Loading linux ...'
    linux  ${knladdr}/images/pxeboot/vmlinuz ${options} ---
    echo 'Loading initrd ...'
    initrd ${knladdr}/images/pxeboot/initrd.img
  }
  menuentry '- openSUSE Leap 15.6  .................................2024-06-20 11:56:54' {
    echo 'Loading openSUSE Leap 15.6 ...'
    set srvraddr="http://192.168.1.12"  
    set hostname="sv-opensuse.workgroup"
    set ethrname="ens160"
    set ipv4addr="192.168.1.1/24"
    set ipv4mask="255.255.255.0"
    set ipv4gway="192.168.1.254"
    set ipv4nsvr="192.168.1.254"
    set autoinst="autoyast=${srvraddr}/conf/autoyast/autoinst_leap-15.6_web.xml"  
    set networks="hostname=${hostname} ifcfg==${ipv4addr},${ipv4gway},${ipv4nsvr},workgroup"
    set language="locale=ja_JP.UTF-8 timezone=Asia/Tokyo keyboard-configuration/layoutcode=jp keyboard-configuration/modelcode=jp106"
    set ramsdisk="load_ramdisk=1 ramdisk_size=1024000 overlay-size=80%"
    set isosfile="install=${srvraddr}/imgs/opensuse-leap-15.6"
    set knladdr="(tftp,192.168.1.12)/imgs/opensuse-leap-15.6"
    set options="${autoinst} ${networks} ${language} ${ramsdisk} ${isosfile} fsck.mode=skip raid=noautodetect vga=791"
    if [ "${grub_platform}" = "efi" ]; then rmmod tpm; fi
    insmod net
    insmod http
    insmod progress
    echo 'Loading linux ...'
    linux  ${knladdr}/boot/x86_64/loader/linux ${options} ---
    echo 'Loading initrd ...'
    initrd ${knladdr}/boot/x86_64/loader/initrd
  }
  menuentry '- openSUSE Tumbleweed  ................................2025-05-04 13:31:47' {
    echo 'Loading openSUSE Tumbleweed ...'
    set srvraddr="http://192.168.1.12"  
    set hostname="sv-opensuse.workgroup"
    set ethrname="ens160"
    set ipv4addr="192.168.1.1/24"
    set ipv4mask="255.255.255.0"
    set ipv4gway="192.168.1.254"
    set ipv4nsvr="192.168.1.254"
    set autoinst="autoyast=${srvraddr}/conf/autoyast/autoinst_tumbleweed_web.xml"  
    set networks="hostname=${hostname} ifcfg==${ipv4addr},${ipv4gway},${ipv4nsvr},workgroup"
    set language="locale=ja_JP.UTF-8 timezone=Asia/Tokyo keyboard-configuration/layoutcode=jp keyboard-configuration/modelcode=jp106"
    set ramsdisk="load_ramdisk=1 ramdisk_size=1024000 overlay-size=80%"
    set isosfile="install=${srvraddr}/imgs/opensuse-tumbleweed"
    set knladdr="(tftp,192.168.1.12)/imgs/opensuse-tumbleweed"
    set options="${autoinst} ${networks} ${language} ${ramsdisk} ${isosfile} fsck.mode=skip raid=noautodetect vga=791"
    if [ "${grub_platform}" = "efi" ]; then rmmod tpm; fi
    insmod net
    insmod http
    insmod progress
    echo 'Loading linux ...'
    linux  ${knladdr}/boot/x86_64/loader/linux ${options} ---
    echo 'Loading initrd ...'
    initrd ${knladdr}/boot/x86_64/loader/initrd
  }
  if [ "${grub_platform}" = "pc" ]; then
    menuentry '- Windows 10  .........................................2022-10-18 15:21:50' {
      echo 'Loading Windows 10 ...'
      set isofile="(http,192.168.1.12)/isos/Win10_22H2_Japanese_x64.iso"
      export isofile
      if [ "${grub_platform}" = "efi" ]; then rmmod tpm; fi
      insmod net
      insmod http
      insmod progress
      echo 'Loading linux ...'
      linux  memdisk iso raw
      echo 'Loading initrd ...'
      initrd $isofile
    }
  fi
  if [ "${grub_platform}" = "pc" ]; then
    menuentry '- Windows 11  .........................................2024-10-01 12:18:50' {
      echo 'Loading Windows 11 ...'
      set isofile="(http,192.168.1.12)/isos/Win11_24H2_Japanese_x64.iso"
      export isofile
      if [ "${grub_platform}" = "efi" ]; then rmmod tpm; fi
      insmod net
      insmod http
      insmod progress
      echo 'Loading linux ...'
      linux  memdisk iso raw
      echo 'Loading initrd ...'
      initrd $isofile
    }
  fi
}

submenu '[ Live media Install mode ... ]' {
  menuentry '- Debian 11 Live  .....................................2024-08-31 15:15:29' {
    echo 'Loading Debian 11 Live ...'
    set srvraddr="http://192.168.1.12"  
    set hostname="sv-debian.workgroup"
    set ethrname="ens160"
    set ipv4addr="192.168.1.1/24"
    set ipv4mask="255.255.255.0"
    set ipv4gway="192.168.1.254"
    set ipv4nsvr="192.168.1.254"
    set autoinst="auto=true preseed/url=${srvraddr}/conf/preseed/ps_debian_desktop_old.cfg"  
    set networks="netcfg/disable_autoconfig=true netcfg/choose_interface=${ethrname} netcfg/get_hostname=${hostname} netcfg/get_ipaddress=${ipv4addr} netcfg/get_netmask=${ipv4mask} netcfg/get_gateway=${ipv4gway} netcfg/get_nameservers=${ipv4nsvr}"
    set language="utc=yes locales=ja_JP.UTF-8 timezone=Asia/Tokyo key-model=pc105 key-layouts=jp key-variants=OADG109A"
    set ramsdisk="root=/dev/ram0 load_ramdisk=1 ramdisk_size=1024000 overlay-size=80%"
    set isosfile="fetch=${srvraddr}/isos/debian-live-11.11.0-amd64-lxde.iso"
    set knladdr="(tftp,192.168.1.12)/imgs/debian-live-11"
    set options="${autoinst} ${networks} ${language} ${ramsdisk} ${isosfile} fsck.mode=skip raid=noautodetect vga=791"
    if [ "${grub_platform}" = "efi" ]; then rmmod tpm; fi
    insmod net
    insmod http
    insmod progress
    echo 'Loading linux ...'
    linux  ${knladdr}/d-i/vmlinuz ${options} ---
    echo 'Loading initrd ...'
    initrd ${knladdr}/d-i/initrd.gz
  }
  menuentry '- Debian 12 Live  .....................................2025-03-15 09:09:36' {
    echo 'Loading Debian 12 Live ...'
    set srvraddr="http://192.168.1.12"  
    set hostname="sv-debian.workgroup"
    set ethrname="ens160"
    set ipv4addr="192.168.1.1/24"
    set ipv4mask="255.255.255.0"
    set ipv4gway="192.168.1.254"
    set ipv4nsvr="192.168.1.254"
    set autoinst="auto=true preseed/url=${srvraddr}/conf/preseed/ps_debian_desktop.cfg"  
    set networks="netcfg/disable_autoconfig=true netcfg/choose_interface=${ethrname} netcfg/get_hostname=${hostname} netcfg/get_ipaddress=${ipv4addr} netcfg/get_netmask=${ipv4mask} netcfg/get_gateway=${ipv4gway} netcfg/get_nameservers=${ipv4nsvr}"
    set language="utc=yes locales=ja_JP.UTF-8 timezone=Asia/Tokyo key-model=pc105 key-layouts=jp key-variants=OADG109A"
    set ramsdisk="root=/dev/ram0 load_ramdisk=1 ramdisk_size=1024000 overlay-size=80%"
    set isosfile="fetch=${srvraddr}/isos/debian-live-12.10.0-amd64-lxde.iso"
    set knladdr="(tftp,192.168.1.12)/imgs/debian-live-12"
    set options="${autoinst} ${networks} ${language} ${ramsdisk} ${isosfile} fsck.mode=skip raid=noautodetect vga=791"
    if [ "${grub_platform}" = "efi" ]; then rmmod tpm; fi
    insmod net
    insmod http
    insmod progress
    echo 'Loading linux ...'
    linux  ${knladdr}/install/vmlinuz ${options} ---
    echo 'Loading initrd ...'
    initrd ${knladdr}/install/initrd.gz
  }
  menuentry '- Debian testing Live  ................................2025-05-05 02:14:51' {
    echo 'Loading Debian testing Live ...'
    set srvraddr="http://192.168.1.12"  
    set hostname="sv-debian.workgroup"
    set ethrname="ens160"
    set ipv4addr="192.168.1.1/24"
    set ipv4mask="255.255.255.0"
    set ipv4gway="192.168.1.254"
    set ipv4nsvr="192.168.1.254"
    set autoinst="auto=true preseed/url=${srvraddr}/conf/preseed/ps_debian_desktop.cfg"  
    set networks="netcfg/disable_autoconfig=true netcfg/choose_interface=${ethrname} netcfg/get_hostname=${hostname} netcfg/get_ipaddress=${ipv4addr} netcfg/get_netmask=${ipv4mask} netcfg/get_gateway=${ipv4gway} netcfg/get_nameservers=${ipv4nsvr}"
    set language="utc=yes locales=ja_JP.UTF-8 timezone=Asia/Tokyo key-model=pc105 key-layouts=jp key-variants=OADG109A"
    set ramsdisk="root=/dev/ram0 load_ramdisk=1 ramdisk_size=1024000 overlay-size=80%"
    set isosfile="fetch=${srvraddr}/isos/debian-live-testing-amd64-lxde.iso"
    set knladdr="(tftp,192.168.1.12)/imgs/debian-live-testing"
    set options="${autoinst} ${networks} ${language} ${ramsdisk} ${isosfile} fsck.mode=skip raid=noautodetect vga=791"
    if [ "${grub_platform}" = "efi" ]; then rmmod tpm; fi
    insmod net
    insmod http
    insmod progress
    echo 'Loading linux ...'
    linux  ${knladdr}/install/vmlinuz ${options} ---
    echo 'Loading initrd ...'
    initrd ${knladdr}/install/initrd.gz
  }
  menuentry '- Ubuntu 24.04 Desktop  ...............................2025-02-15 09:16:38' {
    echo 'Loading Ubuntu 24.04 Desktop ...'
    set srvraddr="http://192.168.1.12"  
    set hostname="sv-ubuntu.workgroup"
    set ethrname="ens160"
    set ipv4addr="192.168.1.1/24"
    set ipv4mask="255.255.255.0"
    set ipv4gway="192.168.1.254"
    set ipv4nsvr="192.168.1.254"
    set autoinst="automatic-ubiquity noprompt autoinstall ds=nocloud;s=${srvraddr}/conf/nocloud/ubuntu_desktop"  
    set networks="ip=${ipv4addr}::${ipv4gway}:${ipv4mask}::${ethrname}:static:${ipv4nsvr} hostname=${hostname}"
    set language="debian-installer/locale=en_US.UTF-8 keyboard-configuration/layoutcode=jp keyboard-configuration/modelcode=jp106"
    set ramsdisk="root=/dev/ram0 load_ramdisk=1 ramdisk_size=1024000 overlay-size=80%"
    set isosfile="boot=casper iso-url=${srvraddr}/isos/ubuntu-24.04.2-desktop-amd64.iso"
    set knladdr="(tftp,192.168.1.12)/imgs/ubuntu-desktop-24.04"
    set options="${autoinst} ${networks} ${language} ${ramsdisk} ${isosfile} fsck.mode=skip raid=noautodetect vga=791"
    if [ "${grub_platform}" = "efi" ]; then rmmod tpm; fi
    insmod net
    insmod http
    insmod progress
    echo 'Loading linux ...'
    linux  ${knladdr}/casper/vmlinuz ${options} ---
    echo 'Loading initrd ...'
    initrd ${knladdr}/casper/initrd
  }
  menuentry '- Ubuntu 24.10 Desktop  ...............................2024-10-09 14:32:32' {
    echo 'Loading Ubuntu 24.10 Desktop ...'
    set srvraddr="http://192.168.1.12"  
    set hostname="sv-ubuntu.workgroup"
    set ethrname="ens160"
    set ipv4addr="192.168.1.1/24"
    set ipv4mask="255.255.255.0"
    set ipv4gway="192.168.1.254"
    set ipv4nsvr="192.168.1.254"
    set autoinst="automatic-ubiquity noprompt autoinstall ds=nocloud;s=${srvraddr}/conf/nocloud/ubuntu_desktop"  
    set networks="ip=${ipv4addr}::${ipv4gway}:${ipv4mask}::${ethrname}:static:${ipv4nsvr} hostname=${hostname}"
    set language="debian-installer/locale=en_US.UTF-8 keyboard-configuration/layoutcode=jp keyboard-configuration/modelcode=jp106"
    set ramsdisk="root=/dev/ram0 load_ramdisk=1 ramdisk_size=1024000 overlay-size=80%"
    set isosfile="boot=casper iso-url=${srvraddr}/isos/ubuntu-24.10-desktop-amd64.iso"
    set knladdr="(tftp,192.168.1.12)/imgs/ubuntu-desktop-24.10"
    set options="${autoinst} ${networks} ${language} ${ramsdisk} ${isosfile} fsck.mode=skip raid=noautodetect vga=791"
    if [ "${grub_platform}" = "efi" ]; then rmmod tpm; fi
    insmod net
    insmod http
    insmod progress
    echo 'Loading linux ...'
    linux  ${knladdr}/casper/vmlinuz ${options} ---
    echo 'Loading initrd ...'
    initrd ${knladdr}/casper/initrd
  }
  menuentry '- Ubuntu 25.04 Desktop  ...............................2025-04-15 18:47:56' {
    echo 'Loading Ubuntu 25.04 Desktop ...'
    set srvraddr="http://192.168.1.12"  
    set hostname="sv-ubuntu.workgroup"
    set ethrname="ens160"
    set ipv4addr="192.168.1.1/24"
    set ipv4mask="255.255.255.0"
    set ipv4gway="192.168.1.254"
    set ipv4nsvr="192.168.1.254"
    set autoinst="automatic-ubiquity noprompt autoinstall ds=nocloud;s=${srvraddr}/conf/nocloud/ubuntu_desktop"  
    set networks="ip=${ipv4addr}::${ipv4gway}:${ipv4mask}::${ethrname}:static:${ipv4nsvr} hostname=${hostname}"
    set language="debian-installer/locale=en_US.UTF-8 keyboard-configuration/layoutcode=jp keyboard-configuration/modelcode=jp106"
    set ramsdisk="root=/dev/ram0 load_ramdisk=1 ramdisk_size=1024000 overlay-size=80%"
    set isosfile="boot=casper iso-url=${srvraddr}/isos/ubuntu-25.04-desktop-amd64.iso"
    set knladdr="(tftp,192.168.1.12)/imgs/ubuntu-desktop-25.04"
    set options="${autoinst} ${networks} ${language} ${ramsdisk} ${isosfile} fsck.mode=skip raid=noautodetect vga=791"
    if [ "${grub_platform}" = "efi" ]; then rmmod tpm; fi
    insmod net
    insmod http
    insmod progress
    echo 'Loading linux ...'
    linux  ${knladdr}/casper/vmlinuz ${options} ---
    echo 'Loading initrd ...'
    initrd ${knladdr}/casper/initrd
  }
}

submenu '[ Live media Live mode ... ]' {
  menuentry '- Debian 11 Live  .....................................2024-08-31 15:15:29' {
    echo 'Loading Debian 11 Live ...'
    set srvraddr="http://192.168.1.12"  
    set networks="ip=dhcp"
    set language="utc=yes locales=ja_JP.UTF-8 timezone=Asia/Tokyo key-model=pc105 key-layouts=jp key-variants=OADG109A"
    set ramsdisk="root=/dev/ram0 load_ramdisk=1 ramdisk_size=1024000 overlay-size=80%"
    set isosfile="fetch=${srvraddr}/isos/debian-live-11.11.0-amd64-lxde.iso"
    set knladdr="(tftp,192.168.1.12)/imgs/debian-live-11"
    set options="${autoinst} ${networks} ${language} ${ramsdisk} ${isosfile} fsck.mode=skip raid=noautodetect vga=791"
    if [ "${grub_platform}" = "efi" ]; then rmmod tpm; fi
    insmod net
    insmod http
    insmod progress
    echo 'Loading linux ...'
    linux  ${knladdr}/live/vmlinuz-5.10.0-32-amd64 ${options} ---
    echo 'Loading initrd ...'
    initrd ${knladdr}/live/initrd.img-5.10.0-32-amd64
  }
  menuentry '- Debian 12 Live  .....................................2025-03-15 09:09:36' {
    echo 'Loading Debian 12 Live ...'
    set srvraddr="http://192.168.1.12"  
    set networks="ip=dhcp"
    set language="utc=yes locales=ja_JP.UTF-8 timezone=Asia/Tokyo key-model=pc105 key-layouts=jp key-variants=OADG109A"
    set ramsdisk="root=/dev/ram0 load_ramdisk=1 ramdisk_size=1024000 overlay-size=80%"
    set isosfile="fetch=${srvraddr}/isos/debian-live-12.10.0-amd64-lxde.iso"
    set knladdr="(tftp,192.168.1.12)/imgs/debian-live-12"
    set options="${autoinst} ${networks} ${language} ${ramsdisk} ${isosfile} fsck.mode=skip raid=noautodetect vga=791"
    if [ "${grub_platform}" = "efi" ]; then rmmod tpm; fi
    insmod net
    insmod http
    insmod progress
    echo 'Loading linux ...'
    linux  ${knladdr}/live/vmlinuz ${options} ---
    echo 'Loading initrd ...'
    initrd ${knladdr}/live/initrd.img
  }
  menuentry '- Debian testing Live  ................................2025-05-05 02:14:51' {
    echo 'Loading Debian testing Live ...'
    set srvraddr="http://192.168.1.12"  
    set networks="ip=dhcp"
    set language="utc=yes locales=ja_JP.UTF-8 timezone=Asia/Tokyo key-model=pc105 key-layouts=jp key-variants=OADG109A"
    set ramsdisk="root=/dev/ram0 load_ramdisk=1 ramdisk_size=1024000 overlay-size=80%"
    set isosfile="fetch=${srvraddr}/isos/debian-live-testing-amd64-lxde.iso"
    set knladdr="(tftp,192.168.1.12)/imgs/debian-live-testing"
    set options="${autoinst} ${networks} ${language} ${ramsdisk} ${isosfile} fsck.mode=skip raid=noautodetect vga=791"
    if [ "${grub_platform}" = "efi" ]; then rmmod tpm; fi
    insmod net
    insmod http
    insmod progress
    echo 'Loading linux ...'
    linux  ${knladdr}/live/vmlinuz ${options} ---
    echo 'Loading initrd ...'
    initrd ${knladdr}/live/initrd.img
  }
  menuentry '- Ubuntu 24.04 Desktop  ...............................2025-02-15 09:16:38' {
    echo 'Loading Ubuntu 24.04 Desktop ...'
    set srvraddr="http://192.168.1.12"  
    set networks="ip=dhcp"
    set language="debian-installer/locale=en_US.UTF-8 keyboard-configuration/layoutcode=jp keyboard-configuration/modelcode=jp106"
    set ramsdisk="root=/dev/ram0 load_ramdisk=1 ramdisk_size=1024000 overlay-size=80%"
    set isosfile="boot=casper iso-url=${srvraddr}/isos/ubuntu-24.04.2-desktop-amd64.iso"
    set knladdr="(tftp,192.168.1.12)/imgs/ubuntu-desktop-24.04"
    set options="${autoinst} ${networks} ${language} ${ramsdisk} ${isosfile} fsck.mode=skip raid=noautodetect vga=791"
    if [ "${grub_platform}" = "efi" ]; then rmmod tpm; fi
    insmod net
    insmod http
    insmod progress
    echo 'Loading linux ...'
    linux  ${knladdr}/casper/vmlinuz ${options} ---
    echo 'Loading initrd ...'
    initrd ${knladdr}/casper/initrd
  }
  menuentry '- Ubuntu 24.10 Desktop  ...............................2024-10-09 14:32:32' {
    echo 'Loading Ubuntu 24.10 Desktop ...'
    set srvraddr="http://192.168.1.12"  
    set networks="ip=dhcp"
    set language="debian-installer/locale=en_US.UTF-8 keyboard-configuration/layoutcode=jp keyboard-configuration/modelcode=jp106"
    set ramsdisk="root=/dev/ram0 load_ramdisk=1 ramdisk_size=1024000 overlay-size=80%"
    set isosfile="boot=casper iso-url=${srvraddr}/isos/ubuntu-24.10-desktop-amd64.iso"
    set knladdr="(tftp,192.168.1.12)/imgs/ubuntu-desktop-24.10"
    set options="${autoinst} ${networks} ${language} ${ramsdisk} ${isosfile} fsck.mode=skip raid=noautodetect vga=791"
    if [ "${grub_platform}" = "efi" ]; then rmmod tpm; fi
    insmod net
    insmod http
    insmod progress
    echo 'Loading linux ...'
    linux  ${knladdr}/casper/vmlinuz ${options} ---
    echo 'Loading initrd ...'
    initrd ${knladdr}/casper/initrd
  }
  menuentry '- Ubuntu 25.04 Desktop  ...............................2025-04-15 18:47:56' {
    echo 'Loading Ubuntu 25.04 Desktop ...'
    set srvraddr="http://192.168.1.12"  
    set networks="ip=dhcp"
    set language="debian-installer/locale=en_US.UTF-8 keyboard-configuration/layoutcode=jp keyboard-configuration/modelcode=jp106"
    set ramsdisk="root=/dev/ram0 load_ramdisk=1 ramdisk_size=1024000 overlay-size=80%"
    set isosfile="boot=casper iso-url=${srvraddr}/isos/ubuntu-25.04-desktop-amd64.iso"
    set knladdr="(tftp,192.168.1.12)/imgs/ubuntu-desktop-25.04"
    set options="${autoinst} ${networks} ${language} ${ramsdisk} ${isosfile} fsck.mode=skip raid=noautodetect vga=791"
    if [ "${grub_platform}" = "efi" ]; then rmmod tpm; fi
    insmod net
    insmod http
    insmod progress
    echo 'Loading linux ...'
    linux  ${knladdr}/casper/vmlinuz ${options} ---
    echo 'Loading initrd ...'
    initrd ${knladdr}/casper/initrd
  }
}

submenu '[ System tools ... ]' {
  menuentry '- Memtest86+ 7.20  ....................................2024-11-11 09:15:12' {
    echo 'Loading Memtest86+ 7.20 ...'
    set srvraddr="http://192.168.1.12"
    set knladdr="(tftp,192.168.1.12)/imgs/memtest86plus"
    if [ "${grub_platform}" = "efi" ]; then rmmod tpm; fi
    insmod net
    insmod http
    insmod progress
    echo 'Loading linux ...'
    if [ "${grub_platform}" = "pc" ]; then
      linux ${knladdr}/boot/memtest
    else
      linux ${knladdr}/EFI/BOOT/memtest
    fi
  }
  if [ "${grub_platform}" = "pc" ]; then
    menuentry '- WinPE x64  ..........................................2024-10-21 12:19:39' {
      echo 'Loading WinPE x64 ...'
      set isofile="(http,192.168.1.12)/isos/WinPEx64.iso"
      export isofile
      if [ "${grub_platform}" = "efi" ]; then rmmod tpm; fi
      insmod net
      insmod http
      insmod progress
      echo 'Loading linux ...'
      linux  memdisk iso raw
      echo 'Loading initrd ...'
      initrd $isofile
    }
  fi
  if [ "${grub_platform}" = "pc" ]; then
    menuentry '- ATI2020x86  .........................................2022-01-28 13:07:12' {
      echo 'Loading ATI2020x86 ...'
      set isofile="(http,192.168.1.12)/isos/WinPE_ATI2020x86.iso"
      export isofile
      if [ "${grub_platform}" = "efi" ]; then rmmod tpm; fi
      insmod net
      insmod http
      insmod progress
      echo 'Loading linux ...'
      linux  memdisk iso raw
      echo 'Loading initrd ...'
      initrd $isofile
    }
  fi
  if [ "${grub_platform}" = "pc" ]; then
    menuentry '- ATI2020x64  .........................................2022-01-28 13:12:34' {
      echo 'Loading ATI2020x64 ...'
      set isofile="(http,192.168.1.12)/isos/WinPE_ATI2020x64.iso"
      export isofile
      if [ "${grub_platform}" = "efi" ]; then rmmod tpm; fi
      insmod net
      insmod http
      insmod progress
      echo 'Loading linux ...'
      linux  memdisk iso raw
      echo 'Loading initrd ...'
      initrd $isofile
    }
  fi
}

menuentry '[ System command ]' {
  true
}

menuentry '- System shutdown' {
  echo "System shutting down ..."
  halt
}

menuentry '- System restart' {
  echo "System rebooting ..."
  reboot
}

if [ "${grub_platform}" = "efi" ]; then
  menuentry '- Boot from next volume' {
    exit 1
  }

  menuentry '- UEFI Firmware Settings' {
    fwsetup
  }
fi
